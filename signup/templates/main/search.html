<!DOCTYPE html>
<html>

<head>
    {% load static %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>CMS</title>
    <link rel="stylesheet" href="{% static '\users\assets\bootstrap\css\bootstrap.min.css' %}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{% static '\users\assets\css\index.css' %}">
    <link rel="stylesheet" href="{% static '\users\assets\css\Pretty-Search-Form.css' %}">
</head>

<body>
    <nav class="navbar navbar-light navbar-expand navigation-clean" style="background: #087830;">
        <div class="container"><a class="navbar-brand" href="{% url 'home' %}">Brand</a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1"></button>
            <div class="collapse navbar-collapse" id="navcol-1">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="{% url 'home' %}" style="color:white">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'upload' %}" style="color:white">Upload Literature</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'bookmarks' %}" style="color:white">My Bookmarks</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'logout' %}" style="color:white">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    {% if searched %}
    <div class="container-fluid" style="background: #efefef;">
        <br><br>
        <!--
        <form method="POST" action="{% url 'search' %}" id="search-form">
            {% csrf_token %}
            <div class = "input-group">
                    <div class="row">
                    <div class="col-md-4">
                        <label for="inputState">Search by</label>
                        <label for="inputState">Search by</label>
                        <select id="inputState" class="form-control" aria-label="Filter" name="filterData">
                              <option selected value="default">All</option>
                              <option value="title">Title</option>
                              <option value="author">Author</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <div class="row">
                            <div class="form-check col-md-4">
                                <input id="formCheck-AIS" class="form-check-input" type="checkbox" />
                                <label class="form-check-label" for="formCheck-AIS">AIS</label>
                            </div>
                            <div class="form-check col-md-4">
                                <input id="formCheck-Scopus" class="form-check-input" type="checkbox" />
                                <label class="form-check-label" for="formCheck-Scopus">Scopus</label>
                            </div>
                            <div class="form-check col-md-4">
                                <input id="formCheck-IEEE" class="form-check-input" type="checkbox" />
                                <label class="form-check-label" for="formCheck-IEEE">IEEE</label>
                            </div> 
                        </div>
                    </div>
                </div>
              <span class="input-group-text"><i class="fa fa-search"></i></span><input class="form-control form-control-lg" type="search" placeholder="I am looking for..." name="searched" aria-label="Search"><button class="btn btn-light" type="submit">Search </button>
            </div>
        </form>
        -->
         
        <form method="POST" action="{% url 'search' %}" id="search-form">
            {% csrf_token %}
            <div class = "input-group">
                <div class="row">
                    
                    <div class="col-md-4">
                    <label for="inputState">Search by</label>
                    <select id="inputState" class="form-control" aria-label="Filter" name="filterData">
                            <option selected value="default">All</option>
                            <option value="title">Title</option>
                            <option value="author">Author</option>
                    </select>
                    </div>
                    <div class="col-md-4">
                        <div class="row">
                            <div class="form-check col-md-4">
                                <input id="formCheck-AIS" class="form-check-input" type="checkbox" name="filterLib" value="ais"/>
                                <label class="form-check-label" for="formCheck-AIS">AIS</label>
                            </div>
                            <div class="form-check col-md-8">
                                <input id="formCheck-IEEE" class="form-check-input" type="checkbox" name="filterLib" value="ieee"/>
                                <label class="form-check-label" for="formCheck-IEEE">IEEE</label>
                            </div>
                            <div class="form-check col-md-4">
                                <input id="formCheck-Scopus" class="form-check-input" type="checkbox" name="filterLib" value="scopus"/>
                                <label class="form-check-label" for="formCheck-Scopus">Scopus</label>
                            </div> 
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group input-group-md mb-3">
                        <span class="input-group-text"><i class="fa fa-search"></i></span>
                        <input class="form-control" type="search" placeholder="I am looking for..." name="searched" aria-label="Search">
                        <button class="btn btn-success btn-lg" type="submit">Search</button>
                        </div>
                    </div>
                    
                </div>
                
            </div>
        </form> 
       
        <div class="row">
            <div class="col">
                <h5>Search results for {{searched}}</h5>
            </div>
        </div>
        <div class="row">
            <div class="col col-md-3" style="border-style: ridge;max-height: 50vh;margin-left: 10px;max-width: 200px;">
                <h3 style="margin-top: 5px;">"sidebar"</h3>
                <h5>Source</h5>
                <div class="form-check"><input class="form-check-input" type="checkbox" id="formCheck-1"><label class="form-check-label" for="formCheck-1">AIS</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" id="formCheck-2"><label class="form-check-label" for="formCheck-2">Scopus</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" id="formCheck-3"><label class="form-check-label" for="formCheck-3">IEE</label></div>
            </div>
            <div class="col">
                <div class="table-responsive" style="min-height: 100vh;">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Author/s</th>
                                <th>Abstract</th>
                                <th>Source</th>
                                <th>URL</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for result in results %}
                            <tr>
                                <td><a href="/publication/{{result.id}}">{{result.title}}</a></td>
                                <td>{{result.author}}</td>
                                <td style="max-width:500px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis">{{result.abstract}}</td>
                                <td>{{result.source}}</td>
                                <td>{{result.url}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    <footer class="bg-light footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 text-center text-lg-start my-auto h-100">
                    <ul class="list-inline mb-2">
                        <li class="list-inline-item"><a href="#">About</a></li>
                        <li class="list-inline-item"><span>⋅</span></li>
                        <li class="list-inline-item"><a href="#">Contact</a></li>
                        <li class="list-inline-item"><span>⋅</span></li>
                        <li class="list-inline-item"><a href="#">Terms of &nbsp;Use</a></li>
                        <li class="list-inline-item"><span>⋅</span></li>
                        <li class="list-inline-item"><a href="#">Privacy Policy</a></li>
                    </ul>
                    <p class="text-muted small mb-4 mb-lg-0">© Brand 2021. All Rights Reserved.</p>
                </div>
                <div class="col-lg-6 text-center text-lg-end my-auto h-100">
                    <ul class="list-inline mb-0">
                        <li class="list-inline-item"><a href="#"><i class="fa fa-facebook fa-2x fa-fw"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fa fa-twitter fa-2x fa-fw"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fa fa-instagram fa-2x fa-fw"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>